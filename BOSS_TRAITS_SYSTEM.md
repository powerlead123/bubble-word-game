# 🎮 泡泡老大特征系统

## 设计理念

每个单词本的BOSS随机获得4个特征，让每次游戏都有新鲜感！

---

## 📋 15种BOSS特征

### 1. 🛡️ 护盾 (Shield)
- BOSS有护盾，需要先打破护盾才能扣血
- 护盾HP：50
- 视觉：蓝色护盾光环

### 2. ⚡ 闪电攻击 (Lightning Attack)
- BOSS定期发射闪电攻击玩家
- 每5秒发射一次
- 视觉：紫色闪电从BOSS射向炮台

### 3. 🔥 火焰光环 (Fire Aura)
- BOSS周围有火焰光环，靠近的泡泡会被烧毁
- 范围：100px
- 视觉：橙红色火焰粒子

### 4. 💨 瞬移 (Teleport)
- BOSS每10秒随机瞬移到新位置
- 视觉：消失和出现的粒子效果

### 5. 👥 分身 (Clone)
- BOSS生成2个小分身（HP较低）
- 分身被击败后BOSS才能受伤
- 视觉：半透明的小BOSS

### 6. 🌀 吸收子弹 (Absorb Bullets)
- BOSS有30%概率吸收子弹并回血
- 视觉：子弹被吸入BOSS

### 7. 💪 狂暴模式 (Rage Mode)
- HP低于30%时进入狂暴，速度翻倍
- 视觉：红色光环，体型变大

### 8. 🧊 冰冻免疫 (Freeze Immune)
- 免疫冰冻效果
- 视觉：被冰冻弹击中时显示"免疫"

### 9. 🎯 召唤泡泡 (Summon Bubbles)
- 每8秒召唤3个泡泡
- 视觉：泡泡从BOSS身边出现

### 10. 🔄 反弹子弹 (Reflect Bullets)
- 有20%概率反弹子弹
- 视觉：子弹被弹回

### 11. 💫 隐身 (Invisibility)
- 每15秒隐身3秒
- 隐身时半透明，难以瞄准

### 12. 🌪️ 龙卷风 (Tornado)
- BOSS周围有龙卷风，推开子弹
- 视觉：旋转的蓝色粒子

### 13. 🎲 随机传送泡泡 (Teleport Bubbles)
- 每10秒随机传送屏幕上的泡泡
- 增加游戏难度

### 14. 💎 钻石皮肤 (Diamond Skin)
- 受到的伤害减少50%
- 视觉：闪亮的钻石光泽

### 15. ⏰ 时间减速 (Time Slow)
- 玩家子弹速度减慢30%
- 视觉：屏幕边缘有紫色波纹

---

## 🎯 特征组合规则

### 随机选择
- 每个单词本随机选择4个特征
- 特征不重复
- 保存在单词本配置中

### 难度平衡
- 特征分为3个等级：
  - 简单：护盾、火焰光环、召唤泡泡、随机传送泡泡
  - 中等：闪电攻击、瞬移、狂暴模式、隐身、龙卷风
  - 困难：分身、吸收子弹、冰冻免疫、反弹子弹、钻石皮肤、时间减速

- 组合规则：
  - 2个简单 + 1个中等 + 1个困难
  - 或 1个简单 + 2个中等 + 1个困难

---

## 💾 数据存储

```javascript
// 单词本配置
wordbooks: [
    {
        id: 1,
        name: "小学英语",
        bossTraits: ["shield", "lightning", "summon", "rage"]
    },
    {
        id: 2,
        name: "初中英语",
        bossTraits: ["teleport", "clone", "fire_aura", "diamond_skin"]
    }
]
```

---

## 🎨 视觉设计

### 特征图标
每个特征在BOSS血条下方显示图标：
```
👑 泡泡老大
━━━━━━━━━━ 80/100
🛡️ ⚡ 🔥 💨
```

### 特征激活提示
特征触发时显示提示：
- "BOSS使用了闪电攻击！⚡"
- "BOSS进入狂暴模式！💪"
- "BOSS召唤了泡泡！🎯"

---

## 🎮 游戏体验

### 学习动力
- 每个单词本都有独特的BOSS
- 孩子会想尝试不同的单词本
- "这个单词本的BOSS会瞬移！"
- "那个单词本的BOSS有分身！"

### 策略性
- 不同特征需要不同的应对策略
- 护盾BOSS：先打破护盾
- 分身BOSS：先清理分身
- 吸收BOSS：用快速连发武器

### 重玩价值
- 即使同一个单词本，每次BOSS特征可能不同
- 或者固定特征，但不同单词本有不同组合

---

## 🔧 实现优先级

### Phase 1（核心）
1. 护盾
2. 闪电攻击
3. 召唤泡泡
4. 狂暴模式

### Phase 2（扩展）
5. 瞬移
6. 分身
7. 火焰光环
8. 冰冻免疫

### Phase 3（高级）
9. 吸收子弹
10. 反弹子弹
11. 隐身
12. 龙卷风
13. 随机传送泡泡
14. 钻石皮肤
15. 时间减速

---

## ✅ Phase 1 已实现！

### 已实现的4个核心特征：

#### 1. 🛡️ 护盾
- ✅ BOSS有50点护盾
- ✅ 必须先打破护盾才能扣血
- ✅ 护盾条显示在血条下方（蓝色）
- ✅ 护盾破碎时显示提示

#### 2. ⚡ 闪电攻击
- ✅ 每5秒发射一次闪电
- ✅ 闪电从BOSS射向炮台
- ✅ 减少玩家连击数（-5）
- ✅ 显示"BOSS使用了闪电攻击！⚡"

#### 3. 🎯 召唤泡泡
- ✅ 每8秒召唤3个泡泡
- ✅ 泡泡在BOSS周围出现
- ✅ 召唤特效（粒子动画）
- ✅ 显示"BOSS召唤了泡泡！🎯"

#### 4. 💪 狂暴模式
- ✅ HP < 30%时触发
- ✅ 速度翻倍
- ✅ 红色光环效果
- ✅ 显示"BOSS进入狂暴模式！💪"

### 额外实现：

#### 5. 🧊 冰冻免疫
- ✅ 免疫冰冻弹效果
- ✅ 显示"免疫！🧊"

---

## 🎮 特征显示

### BOSS界面
```
        👑 泡泡老大
━━━━━━━━━━━━━━━━ 80/100
━━━━━━━━━━━━━━━━ 🛡️45 (护盾条)
      🛡️ ⚡ 🎯 💪
```

### 特征提示
- 闪电攻击：金色弹窗 "BOSS使用了闪电攻击！⚡"
- 召唤泡泡：金色弹窗 "BOSS召唤了泡泡！🎯"
- 狂暴模式：金色弹窗 "BOSS进入狂暴模式！💪"
- 护盾破碎：金色弹窗 "护盾破碎！🛡️"
- 冰冻免疫：金色弹窗 "免疫！🧊"

---

## 🎲 随机系统

### 特征选择规则
- 每个单词本随机选择4个特征
- 2个简单 + 1个中等 + 1个困难
- 特征保存在localStorage中
- 同一个单词本的特征固定

### 示例组合
```javascript
单词本A: [shield, summon, lightning, freeze_immune]
单词本B: [fire_aura, summon, rage, clone]
单词本C: [shield, fire_aura, teleport, freeze_immune]
```

---

刷新页面试试！每个单词本的BOSS都有独特的4个特征！
