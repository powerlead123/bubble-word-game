# 🧪 单词弹药系统测试指南

## ⚡ 快速测试（3分钟）

### 准备工作
1. 打开 `index.html`
2. 创建测试单词本：
   ```
   名称：测试
   单词：
   - cat - 猫
   - dog - 狗
   - bird - 鸟
   ```

### 测试步骤

#### 1️⃣ 测试轮流机制（1分钟）
```
1. 进入泡泡大战，选择"测试"单词本
2. 观察第1个单词：猫 (5/5) ⭐⭐⭐⭐⭐
3. 拼写：c-a-t ✅
4. 点击发射
5. 观察第2个单词：狗 (5/5) ⭐⭐⭐⭐⭐
6. 拼写：d-o-g ✅
7. 点击发射
8. 观察第3个单词：鸟 (5/5) ⭐⭐⭐⭐⭐
9. 拼写：b-i-r-d ✅
10. 点击发射
11. 观察回到第1个单词：猫 (4/5) ⭐⭐⭐⭐

✅ 验证：单词轮流出现，不是连续考同一个
```

#### 2️⃣ 测试弹药消耗（1分钟）
```
1. 观察当前单词的剩余弹药
2. 拼写正确 → 发射
3. 观察弹药减少1个星星
4. 重复5次，观察弹药从 5/5 → 0/5

✅ 验证：每次拼对发射后，弹药减少1
```

#### 3️⃣ 测试拼写错误（30秒）
```
1. 故意拼错：c-t-a ❌
2. 观察：无法发射
3. 观察：弹药不减少
4. 重新拼对：c-a-t ✅
5. 观察：可以发射，弹药减少

✅ 验证：拼错不消耗弹药
```

#### 4️⃣ 测试单词掌握（30秒）
```
1. 连续拼对同一个单词5次
2. 第5次发射后观察
3. 应该出现提示：
   ┌─────────────────┐
   │      ✅         │
   │ 恭喜！你已经掌握了│
   │      cat        │
   │      猫         │
   └─────────────────┘

✅ 验证：单词用完后显示掌握提示
```

#### 5️⃣ 测试单词本完成（可选）
```
1. 继续玩，直到所有单词都用完
2. 最后一个单词发射后观察
3. 应该出现完成提示：
   ┌─────────────────────┐
   │        🏆           │
   │      太棒了！        │
   │ 你已经完全掌握了     │
   │   【测试单词本】     │
   │                     │
   │  掌握单词：3个       │
   │  总得分：XXX分       │
   │                     │
   │ [选择单词本]         │
   └─────────────────────┘

✅ 验证：单词本完成后显示完成提示
```

---

## 📋 详细测试清单

### 基础功能
- [ ] 每个单词初始有5次机会
- [ ] 拼写正确可以发射
- [ ] 拼写错误无法发射
- [ ] 发射后弹药减少1
- [ ] 拼错不消耗弹药
- [ ] 弹药显示正确（星星数量）

### 轮流机制
- [ ] 单词按顺序轮流出现
- [ ] 不会连续考同一个单词
- [ ] 第1轮：cat → dog → bird
- [ ] 第2轮：cat → dog → bird
- [ ] 已用完的单词自动跳过

### 提示系统
- [ ] 单词掌握提示正常显示
- [ ] 显示正确的英文和中文
- [ ] 2秒后自动消失
- [ ] 单词本完成提示正常显示
- [ ] 显示正确的统计数据
- [ ] 点击按钮返回单词本选择

### 边界情况
- [ ] 只剩1个单词时正常工作
- [ ] 最后一个单词用完后正常完成
- [ ] 拼写过程中可以修改
- [ ] 清空按钮正常工作

---

## 🎮 实际游戏场景测试

### 场景1：正常学习流程
```
单词本：cat, dog, bird（各5次）

第1轮：
1. 猫 → cat ✅ → 发射 → cat (4/5)
2. 狗 → dog ✅ → 发射 → dog (4/5)
3. 鸟 → bird ✅ → 发射 → bird (4/5)

第2轮：
4. 猫 → cat ✅ → 发射 → cat (3/5)
5. 狗 → dog ✅ → 发射 → dog (3/5)
6. 鸟 → bird ✅ → 发射 → bird (3/5)

...继续直到全部完成

✅ 验证：流程顺畅，体验良好
```

### 场景2：有拼写错误
```
1. 猫 → cta ❌ → 无法发射 → cat (5/5)
2. 猫 → cat ✅ → 发射 → cat (4/5)
3. 狗 → dgo ❌ → 无法发射 → dog (5/5)
4. 狗 → dgo ❌ → 无法发射 → dog (5/5)
5. 狗 → dog ✅ → 发射 → dog (4/5)

✅ 验证：错误不影响游戏，可以重试
```

### 场景3：单词用完顺序
```
cat (1/5), dog (2/5), bird (3/5)

出题顺序：
1. cat → 用完 → 显示掌握提示
2. dog
3. bird
4. dog
5. bird
6. dog → 用完 → 显示掌握提示
7. bird
8. bird
9. bird → 用完 → 显示掌握提示
10. 单词本完成！

✅ 验证：自动跳过已完成的单词
```

---

## 🐛 常见问题排查

### 问题1：弹药不减少
**检查**：
- 是否拼写正确？
- 是否点击了发射？
- 查看控制台是否有错误

**解决**：
- 确认拼写完全正确
- 确认点击了发射按钮或Canvas

---

### 问题2：单词不轮流
**检查**：
- 是否连续出现同一个单词？
- 查看 `currentRoundIndex` 是否在增加

**解决**：
- 刷新页面重试
- 检查 `loadNextWord` 函数逻辑

---

### 问题3：提示不显示
**检查**：
- 单词用完后是否显示掌握提示？
- 单词本完成后是否显示完成提示？

**解决**：
- 检查CSS样式是否加载
- 查看控制台是否有错误
- 确认函数 `showWordMasteredPopup` 被调用

---

### 问题4：无法返回单词本选择
**检查**：
- 点击"选择单词本"按钮是否有反应？

**解决**：
- 检查 `backToWordbookSelection` 函数
- 确认按钮的 `onclick` 事件绑定

---

## 📊 性能测试

### 长时间游戏
- [ ] 连续玩10分钟
- [ ] 完成2-3个单词本
- [ ] 游戏流畅无卡顿
- [ ] 无内存泄漏

### 大单词本
- [ ] 测试10个单词的单词本
- [ ] 测试20个单词的单词本
- [ ] 轮流机制正常
- [ ] 性能良好

---

## ✅ 测试通过标准

### 必须通过
- ✅ 轮流机制正常
- ✅ 弹药消耗正确
- ✅ 拼错不消耗
- ✅ 提示正常显示
- ✅ 单词本完成后可以返回

### 体验良好
- ✅ 反馈及时
- ✅ 显示清晰
- ✅ 操作流畅
- ✅ 无bug

---

## 🎉 测试完成

如果所有测试都通过，恭喜！单词弹药系统成功实现！

### 下一步
1. 让孩子试玩
2. 观察学习效果
3. 收集反馈
4. 持续优化

---

**测试愉快！** 🎮📚
